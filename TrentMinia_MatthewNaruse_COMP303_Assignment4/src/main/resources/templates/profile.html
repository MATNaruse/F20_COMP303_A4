<!DOCTYPE html>
<!-- 
 * COMP303-001 Assignment 4
 * Due Date: Dec 06, 2020
 * Submitted: ??? ##, 2020
 * 301 041 132 : Trent Minia
 * 300 549 638 : Matthew Naruse
 -->
<html xmlns:th="http://thymeleaf.org">
	<head th:include="fragment :: header"/>
	<body class="container">
		<div th:replace="fragment :: navbar"></div>	
		<h1 class="card card-title text-center m-5 ">Profile</h1>	
		<div class="row d-flex justify-content-center">
		
			<div class="card col-lg-3 col-sm-10">
				<table class="table">
					<tr>
						<th>User Name</th>
						<td><p th:text="${loginCust.Username}" /></td>
					</tr>
					<tr>
						<th>Password</th>
						<td><p th:text="${loginCust.Password}" /></td>
					</tr>
					<tr>
						<th>Your Name</th>
						<td><p th:text="${loginCust.custName}" /></td>
					</tr>
					<tr>
						<th>Your Address</th>
						<td><p th:text="${loginCust.address}" /></td>
					</tr>
					<tr>
						<th>City</th>
						<td><p th:text="${loginCust.city}" /></td>
					</tr>
					<tr>
						<th>Email</th>
						<td><p th:text="${loginCust.email}" /></td>
					</tr>
					<tr>
						<th>Phone Number</th>
						<td><p th:text="${loginCust.phoneNumber}" /></td>
					</tr>
					<tr>
						<td><a class="btn btn-danger" th:href="@{/delete-profile/{custId}(custId=${loginCust.custId})}">Delete Profile</a></td>
						<td><a class="btn btn-warning" th:href="@{/update-profile/{custId}(custId=${loginCust.custId})}">Update Profile</a></td>
					</tr>
				</table>
			</div>
			<div class="card profile-orders col-lg-8 col-sm-10">
				<div th:if="${loginBookings != null}">
					<table class="table">
						<tr>
							<th>Booking ID</th>
							<th>Movie Name</th>
							<th>Viewing Date</th>
						</tr>
						<tr th:each="book:${loginBookings}">
							<td th:text="${book.bookingId}"/>
							<td th:text="${book.movieName}"/>
							<td th:text="${book.viewingDate}"/>
							<td><a class="btn btn-primary" th:href="@{/view-booking/{bookId}(bookId=${book.bookingId})}">View Booking</a></td>
						</tr>
					</table>
				</div>
				<div th:if="${loginBookings == null}">
					<h2 class="card-title text-center">You have no Bookings!</h2>
					<a class="btn btn-primary text-center" th:href="new-booking">New Booking</a>
				</div>
			</div>
		</div>
	</body>
		<div th:include="fragment :: scripts"></div>
</html>
<!-- NOTE: Update the Profile here like A2 -->